/*!
 * Rui Costa -  v1.0.0 (https://github.com/rcostapr/javascript-clock#readme)
 * Copyright 2020-2021 rcostapr <ruicosta.pr@gmail.com>
 * Licensed under MIT (https://github.com/rcostapr/javascript-clock/blob/master/LICENSE)
 */

function BuildClock(t){const s=this;var l=null;const a=320;var e=320,c=new Date,d=!1,h=null;if("object"==typeof t){if(!t.clockid)return void console.log("NOT FOUND: clockid");l=t.clockid}else{if("string"!=typeof t)return void console.log("PARAMS NOT VALID");l=t}var y=document.getElementById(l),o=l+"-canvas";!function(t){t.size&&(e=t.size);t.date&&(c=new Date(t.date));t.showDigital&&(d=t.showDigital);t.gradient&&(this.colors.gradient=t.gradient)}(t);var n=`<div style="width:100%"><canvas id="${o}" width="${e}" height="${e}"></canvas></div>`;y.innerHTML=n,y.style.backgroundColor="transparent",y.style.width="100%",t.title&&function(t){let e=l+"-title",o=document.getElementById(e);null!==o&&o.parentNode.removeChild(o);let n=document.createElement("div");n.setAttribute("id",e),y.prepend(n);let r=document.getElementById(e);r.innerHTML=t,r.style.width="100%",r.style.textAlign="center",r.style.marginBottom="5px",r.style.fontSize="16px"}(t.title);const r=.5*a;this.canvas=document.getElementById(o),this.canvas.style.margin="auto",this.canvas.style.backgroundColor="rgb(76 0 0)",this.canvas.style.borderRadius=.5*e+"px",this.canvas.style.display="block",this.colors={},this.colors.center="rgb(225 12 12)",this.colors.secondPointer="rgb(221 195 195)",this.colors.minutePointer="#fffddd",this.colors.hourPointer="#fffddd",this.colors.ticks="white",this.colors.bigTicks="white",this.colors.numbers="white",this.colors.gradient="rgb(200 0 0)",this.colors.borders="rgb(76 0 0)",this.fontStyle="24px Arial";var i={x:r,y:r},u={x:i.x,y:i.y-.72*r},g={x:i.x,y:i.y-.77*r};setInterval(function(){var t=document.createElement("canvas"),e=t.getContext("2d");t.width=a,t.height=a,v(e),k(e);var o=s.leadingZeros(c.getSeconds()),n=s.leadingZeros(c.getMinutes()),r=s.leadingZeros(c.getHours()),i=2/12*(n/60);f(e,r*(2/12)+i),x(e,2*n/60),m(e,o*(2/60)),P(e),p(e),b(e);e=s.canvas.getContext("2d");e.clearRect(0,0,s.canvas.width,s.canvas.height),e.drawImage(t,0,0,t.width,t.height,0,0,s.canvas.width,s.canvas.height),!0===d&&T(h);c.setTime(c.getTime()+1e3)},1e3);var f=function(t,e){t.beginPath(),t.lineCap="round",t.strokeStyle=s.colors.hourPointer,t.translate(i.x,i.y),t.rotate(e*Math.PI),t.translate(-i.x,-i.y),t.moveTo(i.x,i.y+20),t.lineTo(u.x,2.3*u.y),t.lineWidth=7,t.stroke(),t.closePath(),t.setTransform(1,0,0,1,0,0)},x=function(t,e){t.beginPath(),t.lineCap="round",t.strokeStyle=s.colors.minutePointer,t.translate(i.x,i.y),t.rotate(e*Math.PI),t.translate(-i.x,-i.y),t.moveTo(i.x,i.y+20),t.lineTo(u.x,1.5*u.y),t.lineWidth=5,t.stroke(),t.closePath(),t.setTransform(1,0,0,1,0,0)},m=function(t,e){t.beginPath(),t.lineCap="round",t.strokeStyle=s.colors.secondPointer,t.translate(i.x,i.y),t.rotate(e*Math.PI),t.translate(-i.x,-i.y),t.moveTo(i.x,i.y+20),t.lineTo(u.x,1.2*u.y),t.lineWidth=3,t.stroke(),t.closePath(),t.setTransform(1,0,0,1,0,0)},v=function(t){var e=t.createRadialGradient(i.x,i.y,.05*r,i.x,i.y,r);e.addColorStop(0,s.colors.gradient),e.addColorStop(1,s.colors.borders),t.beginPath(),t.arc(i.x,i.y,.95*r,0,2*Math.PI),t.arc(i.x,i.y,.93*r,0,2*Math.PI),t.lineWidth=3,t.strokeStyle=s.colors.borders,t.fillStyle=e,t.shadowBlur=15,t.stroke(),t.fill(),t.closePath(),t.setTransform(1,0,0,1,0,0)},k=function(e){e.lineWidth=1,e.strokeStyle=s.colors.numbers,e.fillStyle=s.colors.numbers,e.font=s.fontStyle;var o;for(let t=1;t<13;t++)o=2/12*t,e.beginPath(),e.translate(i.x-7,i.y+9),e.rotate(o*Math.PI),e.translate(-i.x,-i.y),e.translate(g.x,g.y),e.rotate(-o*Math.PI),e.translate(-g.x,-g.y),e.strokeText(t,g.x,g.y),e.fillText(t,g.x,g.y),e.closePath(),e.setTransform(1,0,0,1,0,0)},p=function(e){var o;for(let t=1;t<61;t++)o=2/60*t,e.beginPath(),e.strokeStyle=s.colors.ticks,e.translate(i.x,i.y),e.rotate(o*Math.PI),e.translate(-i.x,-i.y),e.moveTo(u.x,u.y-26),e.lineTo(u.x,u.y-32),e.lineWidth=1,e.stroke(),e.closePath(),e.setTransform(1,0,0,1,0,0)},b=function(e){var o;for(let t=1;t<61;t++)o=2/12*t,e.beginPath(),e.strokeStyle=s.colors.bigTicks,e.translate(i.x,i.y),e.rotate(o*Math.PI),e.translate(-i.x,-i.y),e.moveTo(u.x,u.y-25),e.lineTo(u.x,u.y-32),e.lineWidth=3,e.stroke(),e.closePath(),e.setTransform(1,0,0,1,0,0)},P=function(t){t.beginPath(),t.arc(i.x,i.y,2,0,2*Math.PI),t.strokeStyle=s.colors.center,t.lineWidth=5,t.stroke(),t.closePath(),t.setTransform(1,0,0,1,0,0)},T=function(t=0){var e=s.leadingZeros(c.getSeconds()),o=s.leadingZeros(c.getMinutes()),o=`${s.leadingZeros(c.getHours())}:${o}:${e}`,e=l+"-digital";let n=document.getElementById(e);null!==n&&n.parentNode.removeChild(n);let r=document.createElement("div");r.setAttribute("id",e),y.append(r);let i=document.getElementById(e);i.innerHTML=o,i.style.width="100%",i.style.textAlign="center",i.style.marginTop="5px",i.style.font="16px Arial"};this.leadingZeros=function(t){return t=t<10?"0"+t:t}}BuildClock.prototype.borderStyle=function(t){this.canvas.style.border=t},BuildClock.prototype.backgroundColor=function(t){this.canvas.style.backgroundColor=t,this.colors.gradient=t},BuildClock.prototype.borderRadius=function(t){this.canvas.style.borderRadius=t},BuildClock.prototype.centerColor=function(t){this.colors.center=t},BuildClock.prototype.showDigital=function(t=null,e=!0){showDigital=e,paramsDigital=t},BuildClock.prototype.setTime=function(t){dataini=new Date(t)};